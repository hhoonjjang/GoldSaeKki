# 팀내 역할

1. 메인 페이지
2. 검색 결과 페이지

---

# 핵심 기능

변형된 Carousel
redux를 활용한 배너 전환 기능
animation이 적용된 메뉴바
sequelize.query를 이용한 SQL문의 직접적인 사용
Op를 활용한 넓은 범위의 DB 조회 기능
map과 삼항 연산자를 활용한 다소 복잡한 조건부 html 구조 생성

---

# 구현한 기능

## react 기본 설정

### index.js

> 1. window.scrollTo()로 페이지 이동 시 최상단으로 이동하도록 하였다.
> 2. BrowserRouter로 라우팅이 가능해졌다.
> 3. Provider로 store를 지정하여 Redux 사용시 store를 호출하지 않아도 된다.

### App.js

> 1. useLocation으로 회원가입 페이지와 로그인 페이지에서는 Header와 메뉴바가 비활성화된다.
> 2. 404 페이지에서는 Header와 메뉴바, footer가 비활성화된다.
> 3. Link로 이동 시 Routes로 라우팅할 수 있도록 하였다.
> 4. div로 전체를 감싸고 footer와 div를 한 번 더 감싸 footer가 최하단에 위치되어 최하단에 여백이 없도록 하였다.

---

## 범용 컴포넌트

### 최상단 로고

> 1. 기본적으로는 비활성화된 상태로 있되 브라우저 길이가 축소될 경우 활성화된다.
> 2. 브라우저 길이가 축소되어 로그인한 사용자에 대한 컴포넌트가 최상단에 놓일 경우 로고 이미지와 로그인 사용자 컴포넌트의 충돌을 막기 위해 로고 이미지를 왼쪽에 놓는다.

### 메뉴바

> 1. Link를 사용해 클릭 시 해당 카테고리 페이지로 이동한다.
> 2. hover할 경우 드롭다운 메뉴가 활성화된다.
> 3. 스크롤을 내릴 경우 fixed로 최상단에 고정된다.
> 4. 브라우저 길이 축소할 경우 카테고리의 길이가 감소하며 카테고리의 글자 크기도 감소한다.

### Header

> 1. redux를 사용해 각 카테고리마다 다른 배경 이미지와 텍스트, 아이콘이 나타나도록 하였다.
> 2. 브라우저 축소 시 로그인한 사용자에 대한 컴포넌트를 최상단에 놓는다.

### footer

> 1. Link 대신 a를 적용해 클릭 시 외부 웹사이트로 이동한다.
> 2. Family Site 클릭 시 드롭다운 활성화 및 애니메이션 적용하였다. 다시 클릭하면 비활성화된다.
> 3. 브라우저 길이 축소할 경우 드롭다운 컴포넌트가 비활성화되며, 가운데 정렬된다.

---

## 메인 페이지

### 슬라이드 섹션

> 1. 이동버튼을 클릭하면 마지막인지, 또는 첫 번째인지 판별하여 다음 슬라이드로 넘긴다.
> 2. 마지막 슬라이드에서 다음 슬라이드로 이동하면 첫 번째 슬라이드로 이동한다.
> 3. 첫 번째 슬라이드에서 이전 슬라이드로 이동하면 마지막 슬라이드로 이동한다.
> 4. 현재 포커스가 위치한 슬라이드 칸이 배경 이미지로 등록된다.
> 5. 슬라이드 칸 클릭 시 해당 슬라이드 칸에 포커스를 옮긴다.
> 6. 슬라이드 배경 클릭 시 Link로 이동한다.
> 7. 슬라이드 길이보다 브라우저 길이가 작아질 경우 슬라이드를 비활성화시킨다.

### 게임시작 섹션

> 1. 로그인되면 로그인하기 이전과 UI가 다르게 변경된다.
> 2. 서버와 axios 통신을 하여 로그인한 유저의 프로필 이미지, 닉네임, 소속된 서버를 가져온다.
> 3. 브라우저 길이 축소 시 게임 시작 이미지를 비활성화한다.
> 4. 브라우저 길이 축소 시 로그인한 유저에 대한 컴포넌트를 최상단에 놓는다.

### 공지사항 섹션 :

> 1. react-slick을 사용하여 슬라이드를 적용하였다.
> 2. Link 클릭 시 이동시킨다.
> 3. 브라우저 길이 축소 시 공지사항 섹션의 하단부를 비활성화하며 상단부를 세로로 정렬시켰다.

### 검색 섹션 :

> 1. 항목 클릭 시 무엇에 대해 검색할 지 선택하는 드롭다운이 활성화된다.
> 2. input에 아무것도 입력하지 않거나 여백만 있을 경우 검색을 막았다.
> 3. enter를 누르거나 검색 버튼을 클릭할 경우 검색 결과 페이지로 이동한다.

### 커뮤니티 섹션 :

> 1. 커뮤니티의 각 게시판의 최신글을 가져온다.
> 2. 랭킹 페이지의 최상위 5명을 가져와 출력한다.
> 3. 브라우저 길이 축소 시 랭킹 비활성화한다.

### 게임정보 섹션 :

> 1. hover할 경우 이미지가 확대된다.
> 2. 브라우저 길이 축소 할 경우 비활성화된다.

---

## 검색결과 페이지

### 검색결과

> 1. 검색의 주체가 될 항목과 검색어를 출력한다.
> 2. 검색 결과가 없을 경우 전용 텍스트를 출력한다.
> 3. 검색 결과가 있을 경우 map으로 여러 개를 출력할 수 있다.
> 4. 클릭 시 해당 게시판의 게시물 페이지로 이동한다.

---

## 서버

### board.js

> 1. 메인 커뮤니티 섹션에서 요청한 정보를 sequelize.query를 사용해 검색하여 반환하였다.
> 2. 게시글이 없을 경우를 위해 fs 라이브러리의 readFile을 이용해 board.json에 준비된 게시글들을 DB에 추가한다.

### user.js

> 1. 사용자가 없을 경우를 위해 fs 라이브러리의 readFile을 이용해 user.json에 준비된 사용자들을 DB에 추가한다.

---

# 이슈사항

> 1. 새로고침하면 카테고리 별 배너가 사라지는 문제가 있었다.

        => useEffect와 dispatch를 사용해서 새로고침되도 배너를 출력할 수 있게 하였다.

> 2. 메인 페이지의 Carousel 이동 시 범위를 아예 벗어나는 오류가 있었다.

        => 이동할 때 길이를 퍼센트로 계산하는데 Carousel 전체 칸 개수가 홀수일 경우 소수점이   깨지는 오류였다. 퍼센트가 아니라 px로 계산하여 해결하였다.

> 3. 마이페이지에서 프로필 이미지 변경 시 HeaderComponent의 이미지가 즉시 변경되지 않았다.

        => 서로 각자의 state를 사용하고 있었을 뿐 redux를 활용하지 않았기에 생겼던 문제였다.

> 4. 메인 페이지의 커뮤니티 섹션에서 각 게시판의 최신 글을 DB에서 조회하고자 하였지만 가장 오래된 글만을 조회가 가능했다.

        => 정렬시키는 order by가 그룹으로 묶는 group by 보다 나중에 해야하기에 발생하는 문제였다.
